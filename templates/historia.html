<!DOCTYPE html>
<html lang="es">
    <head>
        <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
        <meta charset="utf-8">
        <meta name="descripcion" content="Descubre todo sobre la serie de éxito Bridgerton de Netflix en nuestra página dedicada. Encuentra resúmenes de episodios, biografías de personajes, noticias, análisis y teorías. con nosotros!">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display+SC:wght@400;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Playfair+Display+SC:wght@400;700&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display+SC:wght@400;700&display=swap" rel="stylesheet">        <link rel="stylesheet" href="CSS/historia_sheet.css">
        <link rel="stylesheet" type="text/css" href="/static/slick/slick.css"/>
        <link rel="stylesheet" type="text/css" href="/static/slick/slick-theme.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/historia_sheet.css">
    </head>

    <body>

      <header role="banner">
        <h1>Bridgerton</h1>
      </header>
        
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid" >
          <a class="navbar-brand" href="#"></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="iniciarsesion.html">Iniciar sesión</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="historia.html">Personajes</a>
              </li>
              <li class="nav-item">
                  <a class="nav-link" href="temporadas.html">Temporadas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="whistledown.html">Whistledown Online</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      

      <div class="container text-center">
        <div class="container"> 
          <div class="row">
            <div clss="col">
              <h2>Personajes</h2>

            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="row g-4" id="Personaje">
        </div>
      </div>
   
      <script>
         function response_recieved(response){
            return response.json()
          }

          function parse_data(content){
            console.log(content)
            const personaje = document.getElementById("Personaje");
            for (let index =0; index <content.length; index++){
                const item = document.createElement("div");
                item.setAttribute("class", "col-6 col-md-4 col-lg-3 col-xl-2")
               
                const card = document.createElement("a");
                card.setAttribute("class", "card text-decoration-none");
                card.setAttribute("href", `/historia?id=${content[index].id}`);

                const image = document.createElement("img");
                image.setAttribute("class", "card-img-top");
                //image.setAttribute("src", content[index].image)*/

                const card_body = document.createElement("div");
                card_body.setAttribute("class", "card-body");

                card_body.append(content[index].nombre);
                card.append(image);
                card.append(card_body);
                item.append(card);
          
                personaje.append(item);
      
            }

          }
          
          function request_error(error) {
            console.log("error")
            console.log(error);
          }

          fetch("http://localhost:5000/historia")
            .then(response_recieved)
            .then(parse_data)
            .catch(request_error)

      </script>

      <footer>
                   


      </footer>
      
      <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
      <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="/static/slick/slick.min.js"></script>
      <script src="/static/js/java_script.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    </body>

</html>